<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="login.css" />
    <title>Login</title>
</head>

<body>
    <main class="main">
        <div class="left_div">
            <a class="logo prm" href="main.html">Meteor<span class="logo sgn">.ino</span></a>
            <h2 class="uc">Projeto Integrado de <a href="https://mieti.eng.uminho.pt">Telecomunicações e Informática</a></h2>
        </div>
        <div class="rigth_div">
            <input class="entry" id="name_user" type="text" placeholder="Nome">
            <input class="entry" id="email" type="email" placeholder="Email">
            <input class="entry" id="password" type="password" placeholder="Password">
            <input class="entry" id="conf_password" type="password" placeholder="Confirm Password">
            <button class="bt_login" onclick="register()">Sign Up</button>
            <a class="other_option_login" href="login.html">Já tenho uma conta</a>
        </div>
    </main>
    <footer>
        <a href="https://www.eng.uminho.pt/pt">
            <img class="logo" src="uminho.png" alt="logo_uminho.png">
        </a>
        <a href="https://netiuminho.github.io">
            <img class="logo" src="netium.png" alt="logo_netium.png">
        </a>
        <!--img class="qr" src="../res/qr_code_github.svg" alt="">
        <a href="https://github.com/tiagojoseas/Projeto-Integrado-de-Telecomunicacoes" class="fa fa-github"></a-->
    </footer>
</body>
<script>
    console.log(">> Start Login")

    let name_user = document.getElementById("name_user")
    let email = document.getElementById("email")
    let password = document.getElementById("password")
    let conf_password = document.getElementById("conf-password")

    function register() {

        let headersList = {
            "Content-Type": "application/json"
        }

        let bodyContent = JSON.stringify({
            "name": `${name_user.value}`,
            "email": `${email.value}`,
            "password": `${password.value}`
        });

        fetch("http://localhost:8080/register/", {
            method: "POST",
            body: bodyContent,
            headers: headersList
        }).then(function (response) {
            return response.text();
        }).then(function (data) {
            console.log(data);
        })
    };

</script>

</html>